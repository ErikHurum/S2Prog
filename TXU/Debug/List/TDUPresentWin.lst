##############################################################################
#                                                                            #
# IAR ARM ANSI C/C++ Compiler V4.42A/W32               14/Sep/2022  15:18:40 #
# Copyright 1999-2005 IAR Systems. All rights reserved.                      #
#                                                                            #
#    Cpu mode        =  interwork                                            #
#    Endian          =  little                                               #
#    Stack alignment =  4                                                    #
#    Source file     =  D:\S2Prog\TXU\src\TDUPresentWin.cpp                  #
#    Command line    =  D:\S2Prog\TXU\src\TDUPresentWin.cpp --fpu None -D    #
#                       OS_LIBMODE_SP -D CPU_S3C2410 -D OS_RAMVECT=0 -D      #
#                       OS_UART=-1 -D S2TXU -D USE_LZO=1 -D __ARM_LIBRARY__  #
#                       -D WATCHDOG=1 -D NETWORK=1 -lCN                      #
#                       D:\S2Prog\TXU\Debug\List\ -o                         #
#                       D:\S2Prog\TXU\Debug\Obj\ -s9 --debug --cpu_mode arm  #
#                       --endian little --cpu ARM920T --stack_align 4        #
#                       --interwork -e --enable_multibytes --eec++           #
#                       --dlib_config "C:\Program Files (x86)\IAR            #
#                       Systems\Embedded Workbench                           #
#                       4.0\arm\LIB\dl4tpainl8n.h" -I                        #
#                       D:\S2Prog\TXU\GUI\CORE\ -I D:\S2Prog\TXU\GUI\WM\ -I  #
#                       D:\S2Prog\TXU\GUI\WIDGET\ -I D:\S2Prog\TXU\CONFIG\   #
#                       -I D:\S2Prog\TXU\INC\ -I D:\S2Prog\TXU\..\SHARED\INC #
#                       \ -I D:\S2Prog\TXU\..\SHARED\SRC\ -I                 #
#                       D:\S2Prog\TXU\..\SHARED\LZO\minilzo.210\ -I          #
#                       D:\S2Prog\TXU\lwip-1.4.1\src\include\ -I             #
#                       D:\S2Prog\TXU\lwip-1.4.1\src\include\ipv4\ -I        #
#                       D:\S2Prog\TXU\lwip-1.4.1\src\ -I                     #
#                       D:\S2Prog\TXU\..\SHARED\Database\ -I                 #
#                       D:\S2Prog\TXU\src\ -I "C:\Program Files (x86)\IAR    #
#                       Systems\Embedded Workbench 4.0\arm\INC\"             #
#                       --inline_threshold=2                                 #
#    List file       =  D:\S2Prog\TXU\Debug\List\TDUPresentWin.lst           #
#    Object file     =  D:\S2Prog\TXU\Debug\Obj\TDUPresentWin.r79            #
#                                                                            #
#                                                                            #
##############################################################################

D:\S2Prog\TXU\src\TDUPresentWin.cpp
      1          #include "TDUIncludes.h"
      2          
      3          /*******************************************************************
      4          *	PresentWindow event handler
      5          */
      6          
      7          

   \                                 In segment CODE, align 4, keep-with-next
      8          void cbPWEventHandler(WM_MESSAGE* pMsg)
      9          {
   \                     ??cbPWEventHandler:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0040A0E1           MOV      R4,R0
     10          	TDUPresentWin *WinPtr;
     11          	int Size =WM_GetUserData(pMsg->hWin, (void*)&WinPtr, sizeof(WinPtr));
   \   0000000C   F400D4E1           LDRSH    R0,[R4, #+4]
   \   00000010   0420A0E3           MOV      R2,#+4
   \   00000014   0D10A0E1           MOV      R1,SP
   \   00000018   ........           _BLF     WM_GetUserData,??WM_GetUserData??rA
     12          	WinPtr->cbEventHandler(pMsg);
   \   0000001C   00009DE5           LDR      R0,[SP, #+0]
   \   00000020   0410A0E1           MOV      R1,R4
   \   00000024   442090E5           LDR      R2,[R0, #+68]
   \   00000028   082092E5           LDR      R2,[R2, #+8]
   \   0000002C   0FE0A0E1           MOV      LR,PC
   \   00000030   12FF2FE1           BX       R2
     13          }
   \   00000034   1140BDE8           POP      {R0,R4,LR}
   \   00000038   1EFF2FE1           BX       LR               ;; return
     14          

   \                                 In segment CODE, align 4, keep-with-next
     15          TDUPresentWin::~TDUPresentWin(void)
     16          {
   \                     `?~TDUPresentWin`:
   \   00000000   00402DE9           PUSH     {LR}
     17          }
   \   00000004   ........           _BLF     `?~TDUBasicWin`,`?~TDUBasicWin??rA`
   \   00000008   0040BDE8           POP      {LR}
   \   0000000C   1EFF2FE1           BX       LR               ;; return
     18          

   \                                 In segment CODE, align 4, keep-with-next
     19          TDUPresentWin::TDUPresentWin(void)
   \                     ??TDUPresentWin:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
     20          {
   \   00000008   ........           _BLF     ??TDUBasicWin,??TDUBasicWin??rA
   \   0000000C   AC009FE5           LDR      R0,??TDUPresentWin_1  ;; ??__vtbl
     21          
     22          	BackColor = TDU_C_PW_BACK;
   \   00000010   0010A0E3           MOV      R1,#+0
   \   00000014   440084E5           STR      R0,[R4, #+68]
   \   00000018   A4009FE5           LDR      R0,??TDUPresentWin_1+0x4  ;; BackColor
   \   0000001C   001080E5           STR      R1,[R0, #+0]
     23          	TextColor = TDU_C_PW_TEXT;
   \   00000020   A0009FE5           LDR      R0,??TDUPresentWin_1+0x8  ;; TextColor
   \   00000024   FF1CA0E3           MOV      R1,#+65280
   \   00000028   001080E5           STR      R1,[R0, #+0]
     24          	MyPtr = this;
     25          	PWinXSize = LCDXSize-MainWindow->BWsize;
   \   0000002C   98009FE5           LDR      R0,??TDUPresentWin_1+0xC  ;; MainWindow
   \   00000030   98109FE5           LDR      R1,??TDUPresentWin_1+0x10  ;; LCDXSize
   \   00000034   404084E5           STR      R4,[R4, #+64]
   \   00000038   000090E5           LDR      R0,[R0, #+0]
   \   0000003C   001091E5           LDR      R1,[R1, #+0]
   \   00000040   382090E5           LDR      R2,[R0, #+56]
   \   00000044   022041E0           SUB      R2,R1,R2
     26          	PWinYSize = LCDYSize-MainWindow->Height-ButWindow->BHsize;
   \   00000048   84109FE5           LDR      R1,??TDUPresentWin_1+0x14  ;; LCDYSize
   \   0000004C   342084E5           STR      R2,[R4, #+52]
   \   00000050   001091E5           LDR      R1,[R1, #+0]
   \   00000054   3C3090E5           LDR      R3,[R0, #+60]
   \   00000058   031041E0           SUB      R1,R1,R3
   \   0000005C   74309FE5           LDR      R3,??TDUPresentWin_1+0x18  ;; ButWindow
   \   00000060   003093E5           LDR      R3,[R3, #+0]
   \   00000064   343093E5           LDR      R3,[R3, #+52]
   \   00000068   033041E0           SUB      R3,R1,R3
   \   0000006C   383084E5           STR      R3,[R4, #+56]
     27          
     28          //	WinHandl = WM_CreateWindowAsChild(0,MainWindow->Height,PWinXSize,PWinYSize,
     29          //						MainWindow->WinHandl,WM_CF_SHOW,NULL,sizeof(MyPtr));
     30          	WinHandl = WM_CreateWindow(0,MainWindow->Height,PWinXSize,PWinYSize,WM_CF_SHOW,NULL,sizeof(MyPtr));
   \   00000070   0410A0E3           MOV      R1,#+4
   \   00000074   02002DE9           PUSH     {R1}
   \   00000078   0010A0E3           MOV      R1,#+0
   \   0000007C   02002DE9           PUSH     {R1}
   \   00000080   0210A0E3           MOV      R1,#+2
   \   00000084   02002DE9           PUSH     {R1}
   \   00000088   3C1090E5           LDR      R1,[R0, #+60]
   \   0000008C   0000A0E3           MOV      R0,#+0
   \   00000090   ........           _BLF     WM_CreateWindow,??WM_CreateWindow??rA
   \   00000094   BA02C4E1           STRH     R0,[R4, #+42]
     31          
     32          	ExtraSize= WM_SetUserData(WinHandl, (void*)&MyPtr, sizeof(MyPtr));
   \   00000098   0420A0E3           MOV      R2,#+4
   \   0000009C   401084E2           ADD      R1,R4,#+64
   \   000000A0   ........           _BLF     WM_SetUserData,??WM_SetUserData??rA
     33          	WM_SetCallback(WinHandl, cbPWEventHandler);
   \   000000A4   30109FE5           LDR      R1,??TDUPresentWin_1+0x1C  ;; ??cbPWEventHandler
   \   000000A8   3C0084E5           STR      R0,[R4, #+60]
   \   000000AC   FA02D4E1           LDRSH    R0,[R4, #+42]
   \   000000B0   ........           _BLF     WM_SetCallback,??WM_SetCallback??rA
     34          
     35          }
   \   000000B4   0400A0E1           MOV      R0,R4
   \   000000B8   1E40BDE8           POP      {R1-R4,LR}
   \   000000BC   1EFF2FE1           BX       LR               ;; return
   \                     ??TDUPresentWin_1:
   \   000000C0   ........           DC32     ??__vtbl
   \   000000C4   ........           DC32     BackColor
   \   000000C8   ........           DC32     TextColor
   \   000000CC   ........           DC32     MainWindow
   \   000000D0   ........           DC32     LCDXSize
   \   000000D4   ........           DC32     LCDYSize
   \   000000D8   ........           DC32     ButWindow
   \   000000DC   ........           DC32     ??cbPWEventHandler
     36          

   \                                 In segment CODE, align 4, keep-with-next
     37          void TDUPresentWin::SetButton(void)
     38          {
     39          }
   \                     ??SetButton:
   \   00000000   1EFF2FE1           BX       LR               ;; return

   \                                 In segment CODE, align 4, keep-with-next
     40          void TDUPresentWin::Paintnew(void)
     41          {
     42          }
   \                     ??Paintnew:
   \   00000000   1EFF2FE1           BX       LR               ;; return
     43          

   \                                 In segment CODE, align 4, keep-with-next
     44          void TDUPresentWin::cbEventHandler(WM_MESSAGE * pMsg) {
   \                     ??cbEventHandler:
   \   00000000   00402DE9           PUSH     {LR}
   \   00000004   0100A0E1           MOV      R0,R1
     45            //WM_HWIN hWin = pMsg->hWin;
     46            switch (pMsg->MsgId) {
   \   00000008   001090E5           LDR      R1,[R0, #+0]
   \   0000000C   011051E2           SUBS     R1,R1,#+1
   \   00000010   0800000A           BEQ      ??cbEventHandler_1
   \   00000014   0E1051E2           SUBS     R1,R1,#+14
   \   00000018   0500001A           BNE      ??cbEventHandler_2
     47            case WM_PAINT:
     48          		GUI_SetBkColor(TDU_C_BACK_DEFAULT);
   \   0000001C   1C009FE5           LDR      R0,??cbEventHandler_3  ;; 0xd3d3d3
   \   00000020   ........           _BLF     GUI_SetBkColor,??GUI_SetBkColor??rA
     49          		GUI_Clear();
   \   00000024   ........           _BLF     GUI_Clear,??GUI_Clear??rA
     50          		GUI_SetColor(TDU_C_TEXT_DEFAULT);
   \   00000028   0000A0E3           MOV      R0,#+0
   \   0000002C   ........           _BLF     GUI_SetColor,??GUI_SetColor??rA
   \   00000030   000000EA           B        ??cbEventHandler_1
     51          	break;
     52            case WM_CREATE:
     53              break;
     54            default:
     55              WM_DefaultProc(pMsg);
   \                     ??cbEventHandler_2:
   \   00000034   ........           _BLF     WM_DefaultProc,??WM_DefaultProc??rA
     56            }
     57          }
   \                     ??cbEventHandler_1:
   \   00000038   0040BDE8           POP      {LR}
   \   0000003C   1EFF2FE1           BX       LR               ;; return
   \                     ??cbEventHandler_3:
   \   00000040   D3D3D300           DC32     0xd3d3d3

   \                                 In segment DIFUNCT, align 4, keep-with-next, root
   \   00000000                      REQUIRE ?call_ctors
   \   00000000   ........           DC32    ??__sti__routine

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs TDUPresentWin &TDUPresentWin::new TDUPresentWin()
   \                     `??new TDUPresentWin`:
   \   00000000   00402DE9           PUSH     {LR}
   \   00000004   4800A0E3           MOV      R0,#+72
   \   00000008   ........           _BLF     `??operator new`,`??operator new??rA`
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   0000000A           BEQ      `??new TDUPresentWin_1`
   \   00000014   ........           BL       ??TDUPresentWin
   \                     `??new TDUPresentWin_1`:
   \   00000018   0040BDE8           POP      {LR}
   \   0000001C   1EFF2FE1           BX       LR               ;; return

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void TDUPresentWin::delete ~TDUPresentWin(TDUPresentWin *)
   \                     `??delete ~TDUPresentWin`:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040B0E1           MOVS     R4,R0
   \   00000008   0200000A           BEQ      `??delete ~TDUPresentWin_1`
   \   0000000C   ........           _BLF     `?~TDUBasicWin`,`?~TDUBasicWin??rA`
   \   00000010   0400A0E1           MOV      R0,R4
   \   00000014   ........           _BLF     `??operator delete`,`??operator delete??rA`
   \                     `??delete ~TDUPresentWin_1`:
   \   00000018   1040BDE8           POP      {R4,LR}
   \   0000001C   1EFF2FE1           BX       LR               ;; return

   \                                 In segment CODE, align 4, keep-with-next
   \   static __??Code32?? __intrinsic __code __interwork __atpcs void __sti__routine()
   \                     ??__sti__routine:
   \   00000000   1EFF2FE1           BX       LR               ;; return
     58          

   Maximum stack usage in bytes:

     Function                       CSTACK
     --------                       ------
     TDUPresentWin::Paintnew()          0
     TDUPresentWin::SetButton()         0
     TDUPresentWin::TDUPresentWin()    20
     TDUPresentWin::cbEventHandler(WM_MESSAGE *)
                                        4
     TDUPresentWin::delete ~TDUPresentWin(TDUPresentWin *)
                                        8
     TDUPresentWin::new TDUPresentWin()
                                        4
     TDUPresentWin::~TDUPresentWin()
                                        4
     __sti__routine()                   0
     cbPWEventHandler(WM_MESSAGE *)    12


   Segment part sizes:

     Function/Label                 Bytes
     --------------                 -----
     cbPWEventHandler(WM_MESSAGE *)   60
     TDUPresentWin::~TDUPresentWin()
                                      16
     TDUPresentWin::TDUPresentWin()  224
     TDUPresentWin::SetButton()        4
     TDUPresentWin::Paintnew()         4
     TDUPresentWin::cbEventHandler(WM_MESSAGE *)
                                      68
     TDUPresentWin::new TDUPresentWin()
                                      32
     TDUPresentWin::delete ~TDUPresentWin(TDUPresentWin *)
                                      32
     __sti__routine()                  4
      Others                         196

 
 624 bytes in segment CODE
  12 bytes in segment DATA_C
   4 bytes in segment DIFUNCT
 
 448 bytes of CODE  memory (+ 180 bytes shared)
  12 bytes of CONST memory

Errors: none
Warnings: none
