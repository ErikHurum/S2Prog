###############################################################################
#
# IAR C/C++ Compiler V7.10.1.1197 for Atmel AVR           28/Sep/2017  10:44:05
# Copyright 1996-2017 IAR Systems AB.
# Startup license - IAR Embedded Workbench for Atmel AVR 7.10
#
#    Source file  =  D:\S2Prog\IO\ANZB\Src\AD7715.c
#    Command line =  
#        -f C:\Users\esy\AppData\Local\Temp\EWDE4.tmp
#        (D:\S2Prog\IO\ANZB\Src\AD7715.c --cpu=m128 -ms -o
#        D:\S2Prog\IO\ANZB\Debug\Obj -D OS_LIBMODE_D -D OS_UART=-1 -lCN
#        D:\S2Prog\IO\ANZB\Debug\List -y --initializers_in_flash --no_tbaa
#        --debug -DENABLE_BIT_DEFINITIONS -e -I D:\S2Prog\IO\ANZB\INC\ -I
#        D:\S2Prog\IO\ANZB\..\..\SHARED\INC\ --eeprom_size 4096 --clib -Ohz)
#    Locale       =  Norwegian Bokmål_NOR.1252
#    List file    =  D:\S2Prog\IO\ANZB\Debug\List\AD7715.lst
#    Object file  =  D:\S2Prog\IO\ANZB\Debug\Obj\AD7715.r90
#
###############################################################################

D:\S2Prog\IO\ANZB\Src\AD7715.c
      1          /****************************************************************************************
      2          / AD converter handling , AD7715
      3          /
      4          ***************************************************************************************/
      5          
      6          #include "iom128.h"

   \                                 In  segment ABSOLUTE, at 0x23
   \   union <unnamed> volatile __io _A_PORTE
   \                     _A_PORTE:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x32
   \   union <unnamed> volatile __io _A_PORTD
   \                     _A_PORTD:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x35
   \   union <unnamed> volatile __io _A_PORTC
   \                     _A_PORTC:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x38
   \   union <unnamed> volatile __io _A_PORTB
   \                     _A_PORTB:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x63
   \   union <unnamed> volatile __io _A_PING
   \                     _A_PING:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x65
   \   union <unnamed> volatile __io _A_PORTG
   \                     _A_PORTG:
   \   00000000                      DS8 1
      7          #include "stdio.h"
      8          #include "math.h"
      9          #include "externals.h"
     10          #include "version.h"
     11          
     12          /*************************************************************************
     13          *   (This is a task)
     14          *  AD7715 task 
     15          *
     16          *************************************************************************/

   \                                 In  segment CODE, align 2, keep-with-next
     17          void AD7715(void) {
   \                     AD7715:
   \   00000000   ........           CALL    ?PROLOGUE13_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004                      REQUIRE ?Register_R8_is_cg_reg
   \   00000004                      REQUIRE ?Register_R9_is_cg_reg
   \   00000004                      REQUIRE ?Register_R10_is_cg_reg
   \   00000004                      REQUIRE ?Register_R11_is_cg_reg
   \   00000004                      REQUIRE ?Register_R12_is_cg_reg
   \   00000004   9724               SBIW    R29:R28, 4
     18              char ch, Rev1 = 0; 
   \   00000006   24CC               CLR     R12
     19              unsigned int addata ;
     20              float Tempfloat;
     21          
     22              for (ch = 0; ch<12; ch++) {
   \   00000008   2466               CLR     R6
   \   0000000A   E00C               LDI     R16, 12
   \   0000000C   E011               LDI     R17, 1
     23                  TData.Ana.Filter[ch] = 1.0;
   \                     ??AD7715_0:
   \   0000000E   27FF               CLR     R31
   \   00000010   2DE6               MOV     R30, R6
   \   00000012   ....               SUBI    R30, LOW((-(TData) & 0xFFFF))
   \   00000014   ....               SBCI    R31, (-(TData) & 0xFFFF) >> 8
   \   00000016   8312               STD     Z+2, R17
     24              }
   \   00000018   9463               INC     R6
   \   0000001A   950A               DEC     R16
   \   0000001C   F7C1               BRNE    ??AD7715_0
     25              TData.Ana.PortUsed = ReadEEPROMByte(EEPROM_PORTSETUP) + (ReadEEPROMByte(EEPROM_PORTSETUP+1) <<8); // Get setup from EEPROM
   \   0000001E   E002               LDI     R16, 2
   \   00000020   ....               RCALL   ?Subroutine9
   \                     ??CrossCallReturnLabel_42:
   \   00000022   2F80               MOV     R24, R16
   \   00000024   E003               LDI     R16, 3
   \   00000026   ....               RCALL   ?Subroutine9
   \                     ??CrossCallReturnLabel_41:
   \   00000028   ....               LDI     R30, LOW(TData)
   \   0000002A   ....               LDI     R31, (TData) >> 8
   \   0000002C   8380               ST      Z, R24
   \   0000002E   8301               STD     Z+1, R16
     26              SetRS4Port();                                           // and set power on ports
   \   00000030   ........           CALL    SetRS4Port
     27          
     28               
     29              WriteAdByte(0xff) ;             // Write 32 1's to reset
   \   00000034   ....               RCALL   ?Subroutine13
     30              WriteAdByte(0xff) ;
     31              WriteAdByte(0xff) ;
   \                     ??CrossCallReturnLabel_43:
   \   00000036   ....               RCALL   ?Subroutine13
     32              WriteAdByte(0xff) ;
     33              
     34              // Calibrate and check if the card is layout rev 1?
     35              WriteAdByte(0x10) ;             // Next write setup reg 
   \                     ??CrossCallReturnLabel_44:
   \   00000038   ....               RCALL   ?Subroutine14
   \                     ??CrossCallReturnLabel_45:
   \   0000003A   ....               RCALL   ?Subroutine2
     36              WriteAdByte(0x4e) ;             //  Ad setup data, unipolar, calibrate
     37              OS_Delay(250);
     38              OS_ClearEvents(&TCB_AD7715);
     39              OS_WaitEventTimed(1, 1000);
     40              
     41              ClrBit(PORTE,0xf0);                 // check channel 14 for 2.5 V
   \                     ??CrossCallReturnLabel_75:
   \   0000003C   ....               RCALL   ??Subroutine34_0
   \                     ??CrossCallReturnLabel_119:
   \   0000003E   F009               BREQ    ??CrossCallReturnLabel_21
   \   00000040   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_21:
   \   00000042   ....               RCALL   ?Subroutine1
   \                     ??CrossCallReturnLabel_96:
   \   00000044   F009               BREQ    ??CrossCallReturnLabel_20
   \   00000046   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_20:
   \   00000048   ....               RCALL   ?Subroutine10
     42              SetBit(PORTE, (14 << 4) & 0xf0);    // check 
   \                     ??CrossCallReturnLabel_105:
   \   0000004A   F009               BREQ    ??CrossCallReturnLabel_19
   \   0000004C   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_19:
   \   0000004E   ....               RCALL   ?Subroutine5
   \                     ??CrossCallReturnLabel_35:
   \   00000050   ....               RCALL   ??Subroutine33_0
   \                     ??CrossCallReturnLabel_100:
   \   00000052   F009               BREQ    ??CrossCallReturnLabel_18
   \   00000054   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_18:
   \   00000056   ....               RCALL   ?Subroutine20
     43              WriteAdByte(0x10) ;                 // Next write data 
   \                     ??CrossCallReturnLabel_60:
   \   00000058   ....               RCALL   ?Subroutine3
     44              WriteAdByte(0x0e) ;                 // Ad setup data, unipolar
     45              OS_Delay(85);
     46              OS_ClearEvents(&TCB_AD7715);
     47              OS_WaitEventTimed(1, 250);
     48              WriteAdByte(0x38) ;                 // Next read data 
     49              addata = ReadAdByte()* 256 ;        // read data 16 bit data from ad 
     50              addata += ReadAdByte() ;
     51              if (addata > 60000){
   \                     ??CrossCallReturnLabel_64:
   \   0000005A   2F90               MOV     R25, R16
   \   0000005C   ....               RCALL   ?Subroutine23
   \                     ??CrossCallReturnLabel_67:
   \   0000005E   3601               CPI     R16, 97
   \   00000060   4E9A               SBCI    R25, 234
   \   00000062   F080               BRCS    ??AD7715_1
     52                  Rev1 = true;
   \   00000064   94C3               INC     R12
     53                  for (ch = 0 ; ch < 12 ; ch++) {       // Get the gain and offset from the EEPROM
   \   00000066   2466               CLR     R6
   \   00000068   E04C               LDI     R20, 12
   \   0000006A   E91D               LDI     R17, 157
   \   0000006C   E72F               LDI     R18, 127
   \   0000006E   E33F               LDI     R19, 63
     54                     TData.Ana.Offset[ch] = 0.0;
   \                     ??AD7715_2:
   \   00000070   ....               RCALL   ?Subroutine16
   \                     ??CrossCallReturnLabel_49:
   \   00000072   E000               LDI     R16, 0
   \   00000074   8300               ST      Z, R16
   \   00000076   8301               STD     Z+1, R16
   \   00000078   8302               STD     Z+2, R16
   \   0000007A   8303               STD     Z+3, R16
     55                     TData.Ana.Gain[ch] = 0.9985;
   \   0000007C   EB02               LDI     R16, 178
   \   0000007E   ....               RCALL   ?Subroutine17
     56                 }
     57              } else {
   \                     ??CrossCallReturnLabel_51:
   \   00000080   F071               BREQ    ??AD7715_3
   \   00000082   CFF6               RJMP    ??AD7715_2
     58                  for (ch = 0 ; ch < 12 ; ch++) {       // Get the gain and offset from the EEPROM
   \                     ??AD7715_1:
   \   00000084   2466               CLR     R6
   \   00000086   E04C               LDI     R20, 12
   \   00000088   E11A               LDI     R17, 26
   \   0000008A   E72F               LDI     R18, 127
   \   0000008C   E33F               LDI     R19, 63
     59                     TData.Ana.Offset[ch] = 0.0;
   \                     ??AD7715_4:
   \   0000008E   ....               RCALL   ?Subroutine16
   \                     ??CrossCallReturnLabel_50:
   \   00000090   82C0               ST      Z, R12
   \   00000092   82C1               STD     Z+1, R12
   \   00000094   82C2               STD     Z+2, R12
   \   00000096   82C3               STD     Z+3, R12
     60                     TData.Ana.Gain[ch] = 0.9965;
   \   00000098   EA00               LDI     R16, 160
   \   0000009A   ....               RCALL   ?Subroutine17
     61                 }
     62              }
   \                     ??CrossCallReturnLabel_52:
   \   0000009C   F7C1               BRNE    ??AD7715_4
     63              for (ch = 0 ; ch < 12 ; ch++) {       // Get the gain and offset from the EEPROM
   \                     ??AD7715_3:
   \   0000009E   2466               CLR     R6
   \   000000A0   E00C               LDI     R16, 12
   \   000000A2   2E40               MOV     R4, R16
   \                     ??AD7715_5:
   \   000000A4   2D06               MOV     R16, R6
   \   000000A6   E010               LDI     R17, 0
   \   000000A8   6800               ORI     R16, 0x80
   \   000000AA   E043               LDI     R20, 3
   \   000000AC   ........           CALL    ?S_SHL_L02
   \   000000B0   01C8               MOVW    R25:R24, R17:R16
   \   000000B2   01AE               MOVW    R21:R20, R29:R28
   \   000000B4   E024               LDI     R18, 4
     64                ReadEEPROMBuffer( (ch | 0x80) * sizeof(float)*2, sizeof(float), (char*)&Tempfloat );
   \   000000B6   ........           CALL    ReadEEPROMBuffer
     65                
     66                if (IsFloat(Tempfloat) && Tempfloat > -2.0 && Tempfloat < 2.0 ) { 
   \   000000BA   ....               LDI     R26, LOW((TData + 98))
   \   000000BC   ....               LDI     R27, HIGH((TData + 98))
   \   000000BE   E004               LDI     R16, 4
   \   000000C0   9E60               MUL     R6, R16
   \   000000C2   0DA0               ADD     R26, R0
   \   000000C4   1DB1               ADC     R27, R1
   \   000000C6   ....               RCALL   ?Subroutine15
   \                     ??CrossCallReturnLabel_47:
   \   000000C8   F0A1               BREQ    ??AD7715_6
   \   000000CA   ....               RCALL   ?Subroutine27
   \                     ??CrossCallReturnLabel_72:
   \   000000CC   EF4F               LDI     R20, 255
   \   000000CE   EF5F               LDI     R21, 255
   \   000000D0   EF6F               LDI     R22, 255
   \   000000D2   EB7F               LDI     R23, 191
   \   000000D4   ........           CALL    ?F_CMP_GE_L04
   \   000000D8   F460               BRCC    ??AD7715_6
   \   000000DA   E040               LDI     R20, 0
   \   000000DC   E050               LDI     R21, 0
   \   000000DE   E060               LDI     R22, 0
   \   000000E0   E470               LDI     R23, 64
   \   000000E2   ........           CALL    ?F_CMP_LT_L04
   \   000000E6   F428               BRCC    ??AD7715_6
     67                  *((float*)&TData.Ana.Offset[ch]) = *((float*)&Tempfloat) ;  //offset
   \   000000E8   930D               ST      X+, R16
   \   000000EA   931D               ST      X+, R17
   \   000000EC   932D               ST      X+, R18
   \   000000EE   933C               ST      X, R19
   \   000000F0   9713               SBIW    R27:R26, 3
     68                }
     69                
     70                ReadEEPROMBuffer( ((ch | 0x80) * sizeof(float)*2) + sizeof(float), sizeof(float), (char*)&Tempfloat );
   \                     ??AD7715_6:
   \   000000F2   01AE               MOVW    R21:R20, R29:R28
   \   000000F4   E024               LDI     R18, 4
   \   000000F6   9604               ADIW    R25:R24, 4
   \   000000F8   018C               MOVW    R17:R16, R25:R24
   \   000000FA   ........           CALL    ReadEEPROMBuffer
     71                
     72                if (IsFloat(Tempfloat) && Tempfloat > 0.98 && Tempfloat < 1.02) { 
   \   000000FE   ....               RCALL   ?Subroutine15
   \                     ??CrossCallReturnLabel_48:
   \   00000100   F081               BREQ    ??CrossCallReturnLabel_70
   \   00000102   ....               RCALL   ?Subroutine27
   \                     ??CrossCallReturnLabel_73:
   \   00000104   E449               LDI     R20, 73
   \   00000106   EE51               LDI     R21, 225
   \   00000108   E76A               LDI     R22, 122
   \   0000010A   E37F               LDI     R23, 63
   \   0000010C   ........           CALL    ?F_CMP_GE_L04
   \   00000110   F440               BRCC    ??CrossCallReturnLabel_70
   \   00000112   E54C               LDI     R20, 92
   \   00000114   E85F               LDI     R21, 143
   \   00000116   E862               LDI     R22, 130
   \   00000118   ........           CALL    ?F_CMP_LT_L04
   \   0000011C   F410               BRCC    ??CrossCallReturnLabel_70
     73                  *((float*)&TData.Ana.Gain[ch]) = *((float*)&Tempfloat) ;  //gain
   \   0000011E   01FD               MOVW    R31:R30, R27:R26
   \   00000120   ....               RCALL   ?Subroutine26
     74                }
     75             }
   \                     ??CrossCallReturnLabel_70:
   \   00000122   9463               INC     R6
   \   00000124   944A               DEC     R4
   \   00000126   F009               BREQ    $+2+2
   \   00000128   CFBD               RJMP    ??AD7715_5
     76             
     77              while (1) {
     78                  if (Rev1) {
   \                     ??AD7715_7:
   \   0000012A   20CC               TST     R12
   \   0000012C   F111               BREQ    ??AD7715_8
     79                     
     80                      ClrBit(PORTE,0xf0); 
   \   0000012E   ....               RCALL   ??Subroutine34_0
   \                     ??CrossCallReturnLabel_120:
   \   00000130   F009               BREQ    ??CrossCallReturnLabel_17
   \   00000132   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_17:
   \   00000134   ....               RCALL   ?Subroutine1
   \                     ??CrossCallReturnLabel_97:
   \   00000136   F009               BREQ    ??CrossCallReturnLabel_16
   \   00000138   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_16:
   \   0000013A   ....               RCALL   ?Subroutine10
     81                      SetBit(PORTE, (15 << 4) & 0xf0); // 0V at ch 16
   \                     ??CrossCallReturnLabel_106:
   \   0000013C   F009               BREQ    ??CrossCallReturnLabel_15
   \   0000013E   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_15:
   \   00000140   ....               RCALL   ?Subroutine29
   \                     ??CrossCallReturnLabel_83:
   \   00000142   B103               IN      R16, 0x03
   \   00000144   6F00               ORI     R16, 0xF0
   \   00000146   ....               RCALL   ??Subroutine33_0
   \                     ??CrossCallReturnLabel_101:
   \   00000148   F009               BREQ    ??CrossCallReturnLabel_14
   \   0000014A   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_14:
   \   0000014C   ....               RCALL   ?Subroutine11
     82                      WriteAdByte(0x10) ;             // Next write setup reg 
     83                      WriteAdByte(0x8e) ;             //  AStark test zero scale calibrate
   \                     ??CrossCallReturnLabel_93:
   \   0000014E   E80E               LDI     R16, 142
   \   00000150   ....               RCALL   ?Subroutine2
     84                      OS_Delay(250);
     85                      OS_ClearEvents(&TCB_AD7715);
     86                      OS_WaitEventTimed(1, 1000);
     87                      
     88                      ClrBit(PORTE,0xf0); 
   \                     ??CrossCallReturnLabel_76:
   \   00000152   ....               RCALL   ??Subroutine34_0
   \                     ??CrossCallReturnLabel_121:
   \   00000154   F009               BREQ    ??CrossCallReturnLabel_13
   \   00000156   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_13:
   \   00000158   ....               RCALL   ?Subroutine1
   \                     ??CrossCallReturnLabel_98:
   \   0000015A   F009               BREQ    ??CrossCallReturnLabel_12
   \   0000015C   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_12:
   \   0000015E   ....               RCALL   ?Subroutine10
     89                      SetBit(PORTE, (14 << 4) & 0xf0); // 2.5V at ch 15
   \                     ??CrossCallReturnLabel_107:
   \   00000160   F009               BREQ    ??CrossCallReturnLabel_11
   \   00000162   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_11:
   \   00000164   ....               RCALL   ?Subroutine5
   \                     ??CrossCallReturnLabel_36:
   \   00000166   ....               RCALL   ??Subroutine33_0
   \                     ??CrossCallReturnLabel_102:
   \   00000168   F009               BREQ    ??CrossCallReturnLabel_10
   \   0000016A   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_10:
   \   0000016C   ....               RCALL   ?Subroutine11
     90                      WriteAdByte(0x10) ;             // Next write setup reg 
     91                      WriteAdByte(0xce) ;             //  AStark test full scale calibrate
   \                     ??CrossCallReturnLabel_94:
   \   0000016E   EC0E               LDI     R16, 206
   \   00000170   C001               RJMP    ??CrossCallReturnLabel_46
     92                      OS_Delay(250);
     93                      OS_ClearEvents(&TCB_AD7715);
     94                      OS_WaitEventTimed(1, 1000);
     95           
     96                  } else {
     97                      WriteAdByte(0x10) ;             // Next write setup reg 
   \                     ??AD7715_8:
   \   00000172   ....               RCALL   ?Subroutine14
     98                      WriteAdByte(0x4e) ;             //  Internal calibration calibrate
     99                      OS_Delay(250);
    100                      OS_ClearEvents(&TCB_AD7715);
    101                      OS_WaitEventTimed(1, 1000);
    102                  }
   \                     ??CrossCallReturnLabel_46:
   \   00000174   ....               RCALL   ?Subroutine2
    103          
    104                  for (ch = 0 ; ch < 12 ; ch++) {
   \                     ??CrossCallReturnLabel_77:
   \   00000176   2466               CLR     R6
   \   00000178   E00C               LDI     R16, 12
   \   0000017A   2E70               MOV     R7, R16
    105                      ClrBit(PORTE,0xf0); 
   \                     ??AD7715_9:
   \   0000017C   ....               RCALL   ??Subroutine34_0
   \                     ??CrossCallReturnLabel_122:
   \   0000017E   F009               BREQ    ??CrossCallReturnLabel_9
   \   00000180   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_9:
   \   00000182   ....               RCALL   ?Subroutine1
   \                     ??CrossCallReturnLabel_99:
   \   00000184   F009               BREQ    ??CrossCallReturnLabel_8
   \   00000186   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_8:
   \   00000188   ....               RCALL   ?Subroutine10
    106                      SetBit(PORTE, (ch << 4) & 0xf0);
   \                     ??CrossCallReturnLabel_108:
   \   0000018A   F009               BREQ    ??CrossCallReturnLabel_7
   \   0000018C   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_7:
   \   0000018E   ....               RCALL   ?Subroutine29
   \                     ??CrossCallReturnLabel_84:
   \   00000190   2D06               MOV     R16, R6
   \   00000192   9502               SWAP    R16
   \   00000194   7F00               ANDI    R16, 0xF0
   \   00000196   B113               IN      R17, 0x03
   \   00000198   2B10               OR      R17, R16
   \   0000019A   B913               OUT     0x03, R17
   \   0000019C   ....               RCALL   ??Subroutine34_0
   \                     ??CrossCallReturnLabel_123:
   \   0000019E   F009               BREQ    ??CrossCallReturnLabel_6
   \   000001A0   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_6:
   \   000001A2   ....               RCALL   ?Subroutine20
    107                      WriteAdByte(0x10) ;                 // Next write data 
   \                     ??CrossCallReturnLabel_61:
   \   000001A4   ....               RCALL   ?Subroutine3
    108                      WriteAdByte(0x0e) ;                          // Ad setup data, unipolar
    109                      OS_Delay(85);
    110                      OS_ClearEvents(&TCB_AD7715);
    111                      OS_WaitEventTimed(1, 250);
    112                      WriteAdByte(0x38) ;             // Next read data 
    113                      addata = ReadAdByte()* 256 ;        // read data 16 bit data from ad 
   \                     ??CrossCallReturnLabel_65:
   \   000001A6   2E80               MOV     R8, R16
    114                      addata += ReadAdByte() ;
   \   000001A8   ....               RCALL   ?Subroutine23
   \                     ??CrossCallReturnLabel_66:
   \   000001AA   2F20               MOV     R18, R16
    115                      TData.Ana.Status[ch] = 0;                   // Result ok
   \   000001AC   E010               LDI     R17, 0
   \   000001AE   ....               LDI     R24, LOW(TData)
   \   000001B0   ....               LDI     R25, (TData) >> 8
   \   000001B2   0D86               ADD     R24, R6
   \   000001B4   1F91               ADC     R25, R17
   \   000001B6   01FC               MOVW    R31:R30, R25:R24
   \   000001B8   8716               STD     Z+14, R17
    116                      TData.Ana.Result[ch] += ((((((float)addata / 65535.0) * 25.0) * TData.Ana.Gain[ch])-TData.Ana.Offset[ch] - TData.Ana.Result[ch])
    117                                               / (TData.Ana.Filter[ch]+1.0))  ;             // readed value / 16bit * 2.5 volt range
   \   000001BA   E004               LDI     R16, 4
   \   000001BC   9E60               MUL     R6, R16
   \   000001BE   ....               LDI     R16, LOW(TData)
   \   000001C0   2E40               MOV     R4, R16
   \   000001C2   ....               LDI     R16, (TData) >> 8
   \   000001C4   0C40               ADD     R4, R0
   \   000001C6   1D01               ADC     R16, R1
   \   000001C8   2E50               MOV     R5, R16
   \   000001CA   01D2               MOVW    R27:R26, R5:R4
   \   000001CC   59AE               SUBI    R26, 158
   \   000001CE   4FBF               SBCI    R27, 255
   \   000001D0   2D18               MOV     R17, R8
   \   000001D2   E030               LDI     R19, 0
   \   000001D4   2F02               MOV     R16, R18
   \   000001D6   E020               LDI     R18, 0
   \   000001D8   ........           CALL    ?UL2F_L04
   \   000001DC   E040               LDI     R20, 0
   \   000001DE   EF5F               LDI     R21, 255
   \   000001E0   E76F               LDI     R22, 127
   \   000001E2   E477               LDI     R23, 71
   \   000001E4   ........           CALL    ?F_DIV_L04
   \   000001E8   E040               LDI     R20, 0
   \   000001EA   E050               LDI     R21, 0
   \   000001EC   EC68               LDI     R22, 200
   \   000001EE   E471               LDI     R23, 65
   \   000001F0   ........           CALL    ?F_MUL_L04
   \   000001F4   01A8               MOVW    R21:R20, R17:R16
   \   000001F6   01B9               MOVW    R23:R22, R19:R18
   \   000001F8   01FD               MOVW    R31:R30, R27:R26
   \   000001FA   A900               LDD     R16, Z+48
   \   000001FC   A911               LDD     R17, Z+49
   \   000001FE   A922               LDD     R18, Z+50
   \   00000200   A933               LDD     R19, Z+51
   \   00000202   ........           CALL    ?F_MUL_L04
   \   00000206   914D               LD      R20, X+
   \   00000208   915D               LD      R21, X+
   \   0000020A   916D               LD      R22, X+
   \   0000020C   917C               LD      R23, X
   \   0000020E   ........           CALL    ?F_SUB_L04
   \   00000212   ....               RCALL   ?Subroutine19
    118                  } 
   \                     ??CrossCallReturnLabel_53:
   \   00000214   ........           CALL    ?F_SUB_L04
   \   00000218   0148               MOVW    R9:R8, R17:R16
   \   0000021A   0159               MOVW    R11:R10, R19:R18
   \   0000021C   01FC               MOVW    R31:R30, R25:R24
   \   0000021E   8102               LDD     R16, Z+2
   \   00000220   E010               LDI     R17, 0
   \   00000222   E020               LDI     R18, 0
   \   00000224   E030               LDI     R19, 0
   \   00000226   ........           CALL    ?UL2F_L04
   \   0000022A   E040               LDI     R20, 0
   \   0000022C   E050               LDI     R21, 0
   \   0000022E   E860               LDI     R22, 128
   \   00000230   E37F               LDI     R23, 63
   \   00000232   ........           CALL    ?F_ADD_L04
   \   00000236   01A8               MOVW    R21:R20, R17:R16
   \   00000238   01B9               MOVW    R23:R22, R19:R18
   \   0000023A   0184               MOVW    R17:R16, R9:R8
   \   0000023C   0195               MOVW    R19:R18, R11:R10
   \   0000023E   ........           CALL    ?F_DIV_L04
   \   00000242   ....               RCALL   ?Subroutine19
   \                     ??CrossCallReturnLabel_54:
   \   00000244   ........           CALL    ?F_ADD_L04
   \   00000248   01F2               MOVW    R31:R30, R5:R4
   \   0000024A   8F02               STD     Z+26, R16
   \   0000024C   8F13               STD     Z+27, R17
   \   0000024E   8F24               STD     Z+28, R18
   \   00000250   8F35               STD     Z+29, R19
   \   00000252   9463               INC     R6
   \   00000254   947A               DEC     R7
   \   00000256   F409               BRNE    $+2+2
   \   00000258   CF68               RJMP    ??AD7715_7
   \   0000025A   CF90               RJMP    ??AD7715_9
   \   0000025C                      REQUIRE _A_PORTE
    119              }
    120          }

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine19:
   \   00000000   01F2               MOVW    R31:R30, R5:R4
   \   00000002   8D42               LDD     R20, Z+26
   \   00000004   8D53               LDD     R21, Z+27
   \   00000006   8D64               LDD     R22, Z+28
   \   00000008   8D75               LDD     R23, Z+29
   \   0000000A   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine27:
   \   00000000   8108               LD      R16, Y
   \   00000002   8119               LDD     R17, Y+1
   \   00000004   812A               LDD     R18, Y+2
   \   00000006   813B               LDD     R19, Y+3
   \   00000008   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine17:
   \   00000000   ....               RCALL   ?Subroutine26
   \                     ??CrossCallReturnLabel_71:
   \   00000002   9463               INC     R6
   \   00000004   954A               DEC     R20
   \   00000006   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine26:
   \   00000000   AB00               STD     Z+48, R16
   \   00000002   AB11               STD     Z+49, R17
   \   00000004   AB22               STD     Z+50, R18
   \   00000006   AB33               STD     Z+51, R19
   \   00000008   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine16:
   \   00000000   ....               LDI     R30, LOW((TData + 98))
   \   00000002   ....               LDI     R31, HIGH((TData + 98))
   \   00000004   E004               LDI     R16, 4
   \   00000006   9E60               MUL     R6, R16
   \   00000008   0DE0               ADD     R30, R0
   \   0000000A   1DF1               ADC     R31, R1
   \   0000000C   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine15:
   \   00000000   ....               RCALL   ?Subroutine27
   \                     ??CrossCallReturnLabel_74:
   \   00000002   ........           CALL    IsFloat
   \   00000006   2300               TST     R16
   \   00000008   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine14:
   \   00000000   ....               RCALL   ?Subroutine24
   \                     ??CrossCallReturnLabel_95:
   \   00000002   E40E               LDI     R16, 78
   \   00000004   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine13:
   \   00000000   EF0F               LDI     R16, 255
   \   00000002   ....               RCALL   ??Subroutine32_0
   \                     ??CrossCallReturnLabel_91:
   \   00000004   EF0F               LDI     R16, 255
   \   00000006   ....               RJMP    ??Subroutine32_0

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine11:
   \   00000000   ....               RCALL   ?Subroutine20
   \                     ??CrossCallReturnLabel_55:
   \   00000002                      REQUIRE ?Subroutine24
   \   00000002                      ;               // Fall through to label ?Subroutine24

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine24:
   \   00000000   E100               LDI     R16, 16
   \   00000002                      REQUIRE ??Subroutine32_0
   \   00000002                      ;               // Fall through to label ??Subroutine32_0

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ??Subroutine32_0:
   \   00000000   ....               RJMP    WriteAdByte

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine10:
   \   00000000   ....               RCALL   ?Subroutine20
   \                     ??CrossCallReturnLabel_56:
   \   00000002                      REQUIRE ?Subroutine31
   \   00000002                      ;               // Fall through to label ?Subroutine31

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine31:
   \   00000000   7F00               ANDI    R16, 0xF0
   \   00000002   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine9:
   \   00000000   E010               LDI     R17, 0
   \   00000002   ........           JMP     ReadEEPROMByte

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine5:
   \   00000000   ....               RCALL   ?Subroutine21
   \                     ??CrossCallReturnLabel_62:
   \   00000002   6E00               ORI     R16, 0xE0
   \   00000004   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine3:
   \   00000000   ....               RCALL   ?Subroutine24
   \                     ??CrossCallReturnLabel_92:
   \   00000002   E00E               LDI     R16, 14
   \   00000004   ....               RCALL   ??Subroutine32_0
   \                     ??CrossCallReturnLabel_90:
   \   00000006   E505               LDI     R16, 85
   \   00000008   ....               RCALL   ?Subroutine25
   \                     ??CrossCallReturnLabel_69:
   \   0000000A   EF2A               LDI     R18, 250
   \   0000000C   E030               LDI     R19, 0
   \   0000000E   ....               RCALL   ?Subroutine28
   \                     ??CrossCallReturnLabel_78:
   \   00000010   E308               LDI     R16, 56
   \   00000012   ....               RCALL   ??Subroutine32_0
   \                     ??CrossCallReturnLabel_89:
   \   00000014                      REQUIRE ?Subroutine23
   \   00000014                      ;               // Fall through to label ?Subroutine23

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine23:
   \   00000000   ....               RJMP    ReadAdByte

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine2:
   \   00000000   ....               RCALL   ??Subroutine32_0
   \                     ??CrossCallReturnLabel_88:
   \   00000002   EF0A               LDI     R16, 250
   \   00000004   ....               RCALL   ?Subroutine25
   \                     ??CrossCallReturnLabel_68:
   \   00000006   EE28               LDI     R18, 232
   \   00000008   E033               LDI     R19, 3
   \   0000000A                      REQUIRE ?Subroutine28
   \   0000000A                      ;               // Fall through to label ?Subroutine28

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine28:
   \   00000000   E001               LDI     R16, 1
   \   00000002   ........           JMP     OS_WaitEventTimed

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine25:
   \   00000000   E010               LDI     R17, 0
   \   00000002   ........           CALL    OS_Delay
   \   00000006   ....               LDI     R16, LOW(TCB_AD7715)
   \   00000008   ....               LDI     R17, (TCB_AD7715) >> 8
   \   0000000A   ........           JMP     OS_ClearEvents

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine1:
   \   00000000   ....               RCALL   ?Subroutine21
   \                     ??CrossCallReturnLabel_63:
   \   00000002   700F               ANDI    R16, 0x0F
   \   00000004                      REQUIRE ??Subroutine33_0
   \   00000004                      ;               // Fall through to label ??Subroutine33_0

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ??Subroutine33_0:
   \   00000000   B903               OUT     0x03, R16
   \   00000002                      REQUIRE ??Subroutine34_0
   \   00000002                      ;               // Fall through to label ??Subroutine34_0

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ??Subroutine34_0:
   \   00000000   9100....           LDS     R16, (OS_Counters + 1)
   \   00000004   ....               RJMP    ?Subroutine31

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine21:
   \   00000000   ....               RCALL   ?Subroutine29
   \                     ??CrossCallReturnLabel_79:
   \   00000002   B103               IN      R16, 0x03
   \   00000004   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine0:
   \   00000000   E909               LDI     R16, 153
   \   00000002   E010               LDI     R17, 0
   \   00000004   ........           JMP     OS_Error

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine20:
   \   00000000   ....               LDI     R30, LOW(OS_Counters)
   \   00000002   ....               LDI     R31, (OS_Counters) >> 8
   \   00000004   8101               LDD     R16, Z+1
   \   00000006   950A               DEC     R16
   \   00000008   8301               STD     Z+1, R16
   \   0000000A   F409               BRNE    ??Subroutine20_0
   \   0000000C   9478               SEI
   \                     ??Subroutine20_0:
   \   0000000E   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine29:
   \   00000000   94F8               CLI
   \   00000002   ....               LDI     R30, LOW(OS_Counters)
   \   00000004   ....               LDI     R31, (OS_Counters) >> 8
   \   00000006   8101               LDD     R16, Z+1
   \   00000008   9503               INC     R16
   \   0000000A   8301               STD     Z+1, R16
   \   0000000C   9508               RET
    121          
    122          /*************************************************************************
    123          *
    124          *  Set ports on or off
    125          *
    126          *************************************************************************/

   \                                 In  segment CODE, align 2, keep-with-next
    127          void SetAnaPort(void) {
   \                     SetAnaPort:
    128          
    129              PORTC = (TData.Ana.PortUsed & 0xff) ;         // Set power on ports 0-7
   \   00000000   9100....           LDS     R16, TData
   \   00000004   BB05               OUT     0x15, R16
    130              ClrBit(PORTB, 0xe1);                            // Set power on ports 8-11 off
   \   00000006   ....               RCALL   ??Subroutine34_0
   \                     ??CrossCallReturnLabel_124:
   \   00000008   F009               BREQ    ??CrossCallReturnLabel_5
   \   0000000A   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_5:
   \   0000000C   ....               RCALL   ?Subroutine29
   \                     ??CrossCallReturnLabel_85:
   \   0000000E   B308               IN      R16, 0x18
   \   00000010   710E               ANDI    R16, 0x1E
   \   00000012   BB08               OUT     0x18, R16
   \   00000014   ....               RCALL   ??Subroutine34_0
   \                     ??CrossCallReturnLabel_125:
   \   00000016   F009               BREQ    ??CrossCallReturnLabel_4
   \   00000018   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_4:
   \   0000001A   ....               RCALL   ?Subroutine10
    131              SetBit(PORTB, TData.Ana.PortUsed>>8 & 0x01);    // Set power on port 8
   \                     ??CrossCallReturnLabel_109:
   \   0000001C   F009               BREQ    ??CrossCallReturnLabel_3
   \   0000001E   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_3:
   \   00000020   ....               RCALL   ?Subroutine29
   \                     ??CrossCallReturnLabel_86:
   \   00000022   9100....           LDS     R16, (TData + 1)
   \   00000026   7001               ANDI    R16, 0x01
   \   00000028   B318               IN      R17, 0x18
   \   0000002A   2B10               OR      R17, R16
   \   0000002C   BB18               OUT     0x18, R17
   \   0000002E   ....               RCALL   ??Subroutine34_0
   \                     ??CrossCallReturnLabel_126:
   \   00000030   F009               BREQ    ??CrossCallReturnLabel_2
   \   00000032   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_2:
   \   00000034   ....               RCALL   ?Subroutine10
    132              SetBit(PORTB, TData.Ana.PortUsed>>4 & 0xe0);      // Set power on ports 9-11
   \                     ??CrossCallReturnLabel_110:
   \   00000036   F009               BREQ    ??CrossCallReturnLabel_1
   \   00000038   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_1:
   \   0000003A   ....               RCALL   ?Subroutine29
   \                     ??CrossCallReturnLabel_87:
   \   0000003C   E044               LDI     R20, 4
   \   0000003E   ....               LDI     R30, LOW(TData)
   \   00000040   ....               LDI     R31, (TData) >> 8
   \   00000042   8100               LD      R16, Z
   \   00000044   8111               LDD     R17, Z+1
   \   00000046   ........           CALL    ?US_SHR_L02
   \   0000004A   7E00               ANDI    R16, 0xE0
   \   0000004C   B318               IN      R17, 0x18
   \   0000004E   2B10               OR      R17, R16
   \   00000050   BB18               OUT     0x18, R17
   \   00000052   ....               RCALL   ??Subroutine34_0
   \                     ??CrossCallReturnLabel_127:
   \   00000054   F009               BREQ    ??CrossCallReturnLabel_0
   \   00000056   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_0:
   \   00000058                      REQUIRE ?Subroutine20
   \   00000058                      REQUIRE _A_PORTC
   \   00000058                      REQUIRE _A_PORTB
   \   00000058                      ;               // Fall through to label ?Subroutine20
    133          
    134          }
    135          
    136          /*************************************************************************
    137          *
    138          *  Read from AD-converter
    139          *
    140          *************************************************************************/

   \                                 In  segment CODE, align 2, keep-with-next
    141          char ReadAdByte(void) {
   \                     ReadAdByte:
   \   00000000   939A               ST      -Y, R25
   \   00000002   938A               ST      -Y, R24
    142          
    143              char i, readbyte;
    144          
    145              for (i = 0; i <  8; i++) {
   \   00000004   E088               LDI     R24, 8
    146                  readbyte <<= 1 ;                    // shift to next bit 
   \                     ??ReadAdByte_0:
   \   00000006   0F99               LSL     R25
    147                  ClrBit(PORTD, ADCLK) ;
   \   00000008   ....               RCALL   ??Subroutine34_0
   \                     ??CrossCallReturnLabel_111:
   \   0000000A   F009               BREQ    ??CrossCallReturnLabel_32
   \   0000000C   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_32:
   \   0000000E   ....               RCALL   ?Subroutine6
   \                     ??CrossCallReturnLabel_37:
   \   00000010   ....               RCALL   ??Subroutine34_0
   \                     ??CrossCallReturnLabel_112:
   \   00000012   F009               BREQ    ??CrossCallReturnLabel_31
   \   00000014   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_31:
   \   00000016   ....               RCALL   ?Subroutine10
    148                  SetBit(PORTD, ADCLK) ;                  // set clock line high 
   \                     ??CrossCallReturnLabel_103:
   \   00000018   F009               BREQ    ??CrossCallReturnLabel_30
   \   0000001A   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_30:
   \   0000001C   ....               RCALL   ?Subroutine7
   \                     ??CrossCallReturnLabel_39:
   \   0000001E   ....               RCALL   ??Subroutine34_0
   \                     ??CrossCallReturnLabel_113:
   \   00000020   F009               BREQ    ??CrossCallReturnLabel_29
   \   00000022   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_29:
   \   00000024   ....               RCALL   ?Subroutine20
    149                  if (PING & ADDO) {                  // data  = 1?
   \                     ??CrossCallReturnLabel_57:
   \   00000026   9100....           LDS     R16, _A_PING
   \   0000002A   FD03               SBRC    R16, 3
    150                      readbyte |= 0x01 ;                    // set bit high 
   \   0000002C   6091               ORI     R25, 0x01
    151                  } else {
    152                      readbyte &= ~0x01 ;                   // set bit low 
    153                  }
    154              }
   \                     ??ReadAdByte_1:
   \   0000002E   958A               DEC     R24
   \   00000030   F751               BRNE    ??ReadAdByte_0
    155              return readbyte ;
   \   00000032   2F09               MOV     R16, R25
   \   00000034                      REQUIRE ?Subroutine30
   \   00000034                      REQUIRE _A_PORTD
   \   00000034                      REQUIRE _A_PING
   \   00000034                      ;               // Fall through to label ?Subroutine30
    156          }

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine30:
   \   00000000   9189               LD      R24, Y+
   \   00000002   9199               LD      R25, Y+
   \   00000004   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine7:
   \   00000000   ....               RCALL   ?Subroutine29
   \                     ??CrossCallReturnLabel_80:
   \   00000002   9A91               SBI     0x12, 0x01
   \   00000004   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine6:
   \   00000000   ....               RCALL   ?Subroutine29
   \                     ??CrossCallReturnLabel_81:
   \   00000002   9891               CBI     0x12, 0x01
   \   00000004   9508               RET
    157          
    158          /*************************************************************************
    159          *
    160          *  Write to AD-converter
    161          *
    162          *************************************************************************/

   \                                 In  segment CODE, align 2, keep-with-next
    163          void WriteAdByte(char data) {
   \                     WriteAdByte:
   \   00000000   939A               ST      -Y, R25
   \   00000002   938A               ST      -Y, R24
   \   00000004   2F90               MOV     R25, R16
    164          
    165              char i;
    166          
    167              for (i = 0; i <  8; i++) {
   \   00000006   E088               LDI     R24, 8
    168                  ClrBit(PORTD, ADCLK) ;                  // set clock line low
   \                     ??WriteAdByte_0:
   \   00000008   ....               RCALL   ??Subroutine34_0
   \                     ??CrossCallReturnLabel_114:
   \   0000000A   F009               BREQ    ??CrossCallReturnLabel_28
   \   0000000C   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_28:
   \   0000000E   ....               RCALL   ?Subroutine6
   \                     ??CrossCallReturnLabel_38:
   \   00000010   ....               RCALL   ??Subroutine34_0
   \                     ??CrossCallReturnLabel_115:
   \   00000012   F009               BREQ    ??CrossCallReturnLabel_27
   \   00000014   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_27:
   \   00000016   ....               RCALL   ?Subroutine10
    169                  if (data & 0x80) {                  // data bit = 1? 
   \                     ??CrossCallReturnLabel_104:
   \   00000018   FB97               BST     R25, 7
   \   0000001A   F44E               BRTC    ??WriteAdByte_1
    170                      SetBit(PORTG,ADDI) ;                  // set data high 
   \   0000001C   F009               BREQ    ??CrossCallReturnLabel_26
   \   0000001E   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_26:
   \   00000020   ....               RCALL   ?Subroutine4
   \                     ??CrossCallReturnLabel_33:
   \   00000022   6100               ORI     R16, 0x10
   \   00000024   93000065           STS     101, R16
   \   00000028   ....               RCALL   ??Subroutine34_0
    171                  } else {
   \                     ??CrossCallReturnLabel_116:
   \   0000002A   F449               BRNE    ??WriteAdByte_2
   \   0000002C   C009               RJMP    ??CrossCallReturnLabel_24
    172                      ClrBit(PORTG, ADDI) ;                 // set data low 
   \                     ??WriteAdByte_1:
   \   0000002E   F009               BREQ    ??CrossCallReturnLabel_25
   \   00000030   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_25:
   \   00000032   ....               RCALL   ?Subroutine4
   \                     ??CrossCallReturnLabel_34:
   \   00000034   7E0F               ANDI    R16, 0xEF
   \   00000036   93000065           STS     101, R16
   \   0000003A   ....               RCALL   ??Subroutine34_0
   \                     ??CrossCallReturnLabel_117:
   \   0000003C   F009               BREQ    ??CrossCallReturnLabel_24
   \                     ??WriteAdByte_2:
   \   0000003E   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_24:
   \   00000040   ....               RCALL   ?Subroutine20
    173                  }
    174                  data <<= 1 ;                        // shift to next bit 
   \                     ??CrossCallReturnLabel_58:
   \   00000042   0F99               LSL     R25
    175                  SetBit(PORTD, ADCLK) ;                  // set clock line high 
   \   00000044   7F00               ANDI    R16, 0xF0
   \   00000046   F009               BREQ    ??CrossCallReturnLabel_23
   \   00000048   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_23:
   \   0000004A   ....               RCALL   ?Subroutine7
   \                     ??CrossCallReturnLabel_40:
   \   0000004C   ....               RCALL   ??Subroutine34_0
   \                     ??CrossCallReturnLabel_118:
   \   0000004E   F009               BREQ    ??CrossCallReturnLabel_22
   \   00000050   ....               RCALL   ?Subroutine0
   \                     ??CrossCallReturnLabel_22:
   \   00000052   ....               RCALL   ?Subroutine20
    176              }           
   \                     ??CrossCallReturnLabel_59:
   \   00000054   958A               DEC     R24
   \   00000056   F6C1               BRNE    ??WriteAdByte_0
    177          }       
   \   00000058   ....               RJMP    ?Subroutine30
   \   0000005A                      REQUIRE _A_PORTD
   \   0000005A                      REQUIRE _A_PORTG

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine4:
   \   00000000   ....               RCALL   ?Subroutine29
   \                     ??CrossCallReturnLabel_82:
   \   00000002   91000065           LDS     R16, 101
   \   00000006   9508               RET
    178          

   Maximum stack usage in bytes:

   CSTACK RSTACK Function
   ------ ------ --------
     17      2   AD7715
       17      4   -> IsFloat
       17      4   -> OS_ClearEvents
       17      6   -> OS_Delay
       17      2   -> OS_Error
       17      2   -> OS_WaitEventTimed
       17      4   -> OS_WaitEventTimed
       17      2   -> ReadAdByte
       17      2   -> ReadEEPROMBuffer
       17      2   -> ReadEEPROMByte
       17      2   -> SetRS4Port
       17      2   -> WriteAdByte
       17      4   -> WriteAdByte
       17      2 ?F_ADD_L04
       17      2 ?F_CMP_GE_L04
       17      2 ?F_CMP_LT_L04
       17      2 ?F_DIV_L04
       17      2 ?F_MUL_L04
       17      2 ?F_SUB_L04
       17      2 ?S_SHL_L02
       17      2 ?UL2F_L04
      2      2   ReadAdByte
        2      2   -> OS_Error
      0      2   SetAnaPort
        0      2   -> OS_Error
        0      2 ?US_SHR_L02
      2      2   WriteAdByte
        2      2   -> OS_Error


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
       2  ??Subroutine32_0
       2  ??Subroutine33_0
       6  ??Subroutine34_0
       8  ?Subroutine0
       4  ?Subroutine1
       2  ?Subroutine10
       2  ?Subroutine11
       8  ?Subroutine13
       6  ?Subroutine14
      10  ?Subroutine15
      14  ?Subroutine16
       8  ?Subroutine17
      12  ?Subroutine19
      10  ?Subroutine2
      16  ?Subroutine20
       6  ?Subroutine21
       2  ?Subroutine23
       2  ?Subroutine24
      14  ?Subroutine25
      10  ?Subroutine26
      10  ?Subroutine27
       6  ?Subroutine28
      14  ?Subroutine29
      20  ?Subroutine3
       6  ?Subroutine30
       4  ?Subroutine31
       8  ?Subroutine4
       6  ?Subroutine5
       6  ?Subroutine6
       6  ?Subroutine7
       6  ?Subroutine9
     604  AD7715
      52  ReadAdByte
      88  SetAnaPort
      90  WriteAdByte
       1  _A_PING
       1  _A_PORTB
       1  _A_PORTC
       1  _A_PORTD
       1  _A_PORTE
       1  _A_PORTG

 
     6 bytes in segment ABSOLUTE
 1 070 bytes in segment CODE
 
 1 070 bytes of CODE memory
     0 bytes of DATA memory (+ 6 bytes shared)

Errors: none
Warnings: none
